<div *ngIf="currentBook && selectedChapterIndex >= 0 && selectedChapterIndex < currentBook.chapters.length"
  class="bg-white border rounded p-4 shadow-sm">
  <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold">
          {{ currentBook.name }} {{ selectedChapter }}
          <span *ngIf="chapter?.isComplete" class="ml-2 text-sm bg-green-100 text-green-800 px-2 py-1 rounded">
              Completed
          </span>
          <span *ngIf="!chapter?.isComplete && chapter?.isInProgress"
                class="ml-2 text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded">
              In Progress
          </span>
      </h3>
      <span class="text-gray-600">
          {{ chapter?.memorizedVerses }} / {{ chapter?.totalVerses }} verses
      </span>
  </div>

  <!-- Progress Details -->
  <div class="mb-4">
      <div class="flex flex-col space-y-1">
          <p class="text-sm text-gray-600">Total verses: {{ chapter?.totalVerses }}</p>
          <p class="text-sm text-gray-600">Memorized: {{ chapter?.memorizedVerses }}</p>
          <p class="text-sm text-gray-600">
              Remaining: {{ chapter?.remainingVerses }}
          </p>
          <p class="text-sm text-gray-600">
              Progress: {{ chapter?.percentComplete }}%
          </p>
      </div>
  </div>

  <!-- Verse Selector Component -->
  <app-verse-selector
      [totalVerses]="chapter?.totalVerses || 0"
      [versesMemorized]="chapter?.getMemorizedVerseNumbers() || []"
  ></app-verse-selector>
  <!-- remainingVerses -->
  <!-- Reset Button -->
  <!-- <div class="mt-4 text-right">
      <button
          (click)="confirm()"
          class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm transition-colors duration-200"
      >
          Reset Chapter
      </button>
  </div> -->
</div>

<!-- Confirmation Modal -->
<!-- <app-confirmation-modal
  [isVisible]="isConfirmModalVisible"
  [title]="'Reset Chapter'"
  [message]="'Are you sure you want to reset progress for Chapter ' + selectedChapter + '? This action cannot be undone.'"
  [confirmText]="'Reset'"
  (confirm)="confirmReset()"
  (cancel)="cancelReset()"
></app-confirmation-modal> -->