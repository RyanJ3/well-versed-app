<div class="bg-white p-4 rounded shadow mb-6">
      <h3 class="text-lg font-semibold mb-2">Select Testament</h3>
      <!-- Vertical testament cards - one testament per row -->
      <div class="flex flex-col gap-4">
        <button
          *ngFor="let testament of testaments"
          (click)="selectTestament(testament)"
          class="testament-card"
          [class.old-testament]="testament === 'Old Testament'"
          [class.new-testament]="testament === 'New Testament'"
          [class.active]="selectedTestament === testament"
        >
          <div class="card-content">
            <!-- Top section with title and statistics -->
            <div class="flex justify-between items-center mb-2">
              <div>
                <div class="text-xl font-semibold" [ngClass]="{
                  'text-amber-700': testament === 'Old Testament',
                  'text-indigo-700': testament === 'New Testament'
                }">{{ testament }}
                </div>
                <div class="text-sm mt-1" [ngClass]="{
                  'text-amber-600': testament === 'Old Testament',
                  'text-indigo-600': testament === 'New Testament'
                }">
                  {{ getTestamentStats(testament).percentComplete }}% Complete
                </div>
              </div>
              <div class="text-right">
                <div class="text-sm font-medium">
                  {{ getTestamentBookCount(testament) }} Books
                </div>
                <div class="text-xs text-gray-500">
                  {{ getTestamentChapterCount(testament) }} Chapters â€¢
                  {{ getTestamentVerseCount(testament) }} Verses
                </div>
              </div>
            </div>

            <!-- Progress bar -->
            <div class="mt-3 h-2 bg-gray-200 rounded-full overflow-hidden">
              <div
                class="h-2 rounded-full transition-width relative"
                [ngClass]="{
                  'bg-gradient-to-r from-amber-500 to-amber-400': testament === 'Old Testament',
                  'bg-gradient-to-r from-indigo-600 to-indigo-400': testament === 'New Testament'
                }"
                [style.width.%]="getTestamentStats(testament).percentComplete"
              >
                <!-- Add a subtle animation effect for an active progress bar -->
                <div *ngIf="selectedTestament === testament"
                     class="progress-shimmer absolute inset-0"></div>
              </div>
            </div>

            <!-- Book groups preview -->
            <div class="mt-4 flex flex-wrap gap-2">
              <div *ngFor="let group of getTestamentGroups(testament)"
                   class="group-chip"
                   [ngClass]="{
                     'bg-amber-100 text-amber-800': testament === 'Old Testament',
                     'bg-indigo-100 text-indigo-800': testament === 'New Testament',
                     'border-amber-300': testament === 'Old Testament' && selectedGroup === group,
                     'border-indigo-300': testament === 'New Testament' && selectedGroup === group
                   }">
                {{ group }}
              </div>
            </div>
          </div>
        </button>
      </div>

      <div class="mt-4 text-right">
        <button
          (click)="showConfirmModal()"
          class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm transition-colors duration-200"
        >
          Reset {{ selectedTestament }}
        </button>
      </div>
    </div>

    <!-- Confirmation Modal -->
    <app-confirmation-modal
      [isVisible]="isConfirmModalVisible"
      [title]="'Reset Testament'"
      [message]="'Are you sure you want to reset all progress for ' + selectedTestament + '? This action cannot be undone.'"
      [confirmText]="'Reset'"
      (confirm)="confirmReset()"
      (cancel)="cancelReset()"
    ></app-confirmation-modal>