<!-- frontend/src/app/features/profile/components/clear-data-modal/clear-data-modal.component.html -->
<div class="modal-backdrop" *ngIf="visible" (click)="onClose()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <div class="danger-icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
        </svg>
      </div>
      <h2>Clear All Data</h2>
    </div>

    <div class="modal-body">
      <p class="warning-text">
        This action will permanently delete:
      </p>
      <ul class="deletion-list">
        <li>All memorized verses</li>
        <li>Progress statistics</li>
        <li>Study history</li>
        <li>Achievement records</li>
      </ul>
      <p class="info-text">
        Your account and settings will remain intact.
      </p>

      <div class="confirmation-section">
        <label for="confirm-input">Type <strong>delete all data</strong> to confirm:</label>
        <input
          type="text"
          id="confirm-input"
          class="form-control"
          [(ngModel)]="confirmText"
          placeholder="delete all data"
          (keyup.enter)="onConfirm()"
        >
      </div>
    </div>

    <div class="modal-footer">
      <button
        class="btn btn-secondary"
        (click)="onClose()"
        [disabled]="isClearing"
      >
        Cancel
      </button>
      <button
        class="btn btn-danger"
        (click)="onConfirm()"
        [disabled]="!isConfirmEnabled || isClearing"
      >
        <span *ngIf="!isClearing">Clear All Data</span>
        <span *ngIf="isClearing">Clearing...</span>
      </button>
    </div>
  </div>
</div>
