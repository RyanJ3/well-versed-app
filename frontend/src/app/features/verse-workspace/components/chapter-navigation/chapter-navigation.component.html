<div class="chapter-navigation">
  <button (click)="previous.emit()" class="nav-btn" [disabled]="!hasPrevious()">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
    <span>Previous</span>
  </button>

  <div class="chapter-buttons">
    <button
      *ngFor="let ch of visibleChapters"
      (click)="change.emit(ch)"
      class="chapter-btn"
      [class.active]="ch === currentChapter"
      [class.has-progress]="getChapterProgress(ch) > 0"
    >
      <div class="chapter-label">Ch {{ ch }}</div>
      <div class="chapter-progress" *ngIf="getChapterProgress(ch) > 0">
        {{ getChapterProgress(ch) }}%
      </div>
      <div
        class="progress-indicator"
        *ngIf="getChapterProgress(ch) > 0"
        [style.width.%]="getChapterProgress(ch)"
      ></div>
    </button>
  </div>

  <button (click)="next.emit()" class="nav-btn" [disabled]="!hasNext">
    <span>Next</span>
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </button>
</div>
