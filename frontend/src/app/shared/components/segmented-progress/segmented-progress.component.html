<div class="w-full max-w-xl mx-auto p-4">
  <button class="mb-4 flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded" (click)="toggleView()">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="12" y1="5" x2="12" y2="19" />
      <line x1="5" y1="12" x2="19" y2="12" />
    </svg>
    <span>{{ progressViewMode === 'testament' ? 'Show Groups View' : 'Show Testament View' }}</span>
  </button>

  <div class="flex h-6 w-full rounded overflow-hidden text-xs font-semibold">
    <div *ngFor="let segment of segments" class="relative flex items-center justify-center text-white"
         [style.background]="segment.color" [style.width.%]="segment.percent"
         [attr.title]="segment.name + ': ' + segment.verses + ' verses (' + segment.percent + '%)'">
      <span *ngIf="segment.percent > 5">{{ segment.shortName }}</span>
    </div>
  </div>

  <div class="mt-3 grid grid-cols-2 gap-2 text-sm" >
    <div *ngFor="let segment of segments" [hidden]="segment.name === 'Remaining'" class="flex items-center gap-2">
      <span class="w-3 h-3 rounded-sm" [style.background]="segment.color"></span>
      <span class="flex-1">{{ segment.name }}</span>
      <span class="font-semibold">{{ segment.percent }}%</span>
    </div>
  </div>
</div>
